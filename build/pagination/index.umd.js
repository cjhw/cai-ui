(function(s,e){typeof exports=="object"&&typeof module<"u"?e(exports,require("vue")):typeof define=="function"&&define.amd?define(["exports","vue"],e):(s=typeof globalThis<"u"?globalThis:s||self,e(s.index={},s.Vue))})(this,function(s,e){"use strict";const i={total:{type:Number,default:0},pageSize:{type:Number,default:10},pagerCount:{type:Number,default:7},modelValue:{type:Number,default:1}},T="";function g(t=1){const n=e.ref(t),a=l=>{n.value=l},o=l=>{n.value+=l};return{pageIndex:n,setPageIndex:a,jumpPage:o,prevPage:()=>o(-1),nextPage:()=>o(1)}}const f=(t,n,a)=>{const o=Array.from(Array(t).keys());if(t<=a)return o.slice(2,t);{const r=Math.ceil(a/2);return n<=r?o.slice(2,a):n>=t-r+1?o.slice(t-a+2,t):o.slice(n-r+2,n+r-1)}},p=i,P=e.defineComponent({name:"CPager",props:p,setup(t){const{total:n,pageSize:a,pagerCount:o}=e.toRefs(t),r=e.computed(()=>Math.ceil(n.value/a.value)),{pageIndex:c,setPageIndex:l,jumpPage:h,prevPage:y,nextPage:I}=g(),M=e.computed(()=>f(r.value,c.value,o.value));return{totalPage:r,pageIndex:c,setPageIndex:l,jumpPage:h,prevPage:y,nextPage:I,centerPages:M}},render(){const{pagerCount:t,totalPage:n,pageIndex:a,setPageIndex:o,jumpPage:r,centerPages:c}=this;return e.createVNode("ul",{class:"s-pager"},[e.createVNode("li",{onClick:()=>o(1),class:{current:a===1}},[e.createTextVNode("1")]),n>t&&a>Math.ceil(t/2)&&e.createVNode("li",{class:"more left",onClick:()=>r(-5)},[e.createTextVNode("...")]),c.map(l=>e.createVNode("li",{onClick:()=>o(l),class:{current:a===l}},[l])),n>t&&a<n-Math.ceil(t/2)+1&&e.createVNode("li",{class:"more right",onClick:()=>r(5)},[e.createTextVNode("...")]),n>1&&e.createVNode("li",{onClick:()=>o(n),class:{current:a===n}},[n])])}}),d=e.defineComponent({name:"Pagination",props:i,emits:["update:modelValue"],setup(t,{emit:n}){const a=e.ref(),o=e.computed(()=>a.value?a.value.pageIndex<2:!0),r=e.computed(()=>a.value?a.value.pageIndex>a.value.totalPage-1:!0);return e.onMounted(()=>{e.watch(()=>a.value.pageIndex,c=>{n("update:modelValue",c)}),e.watch(()=>t.modelValue,c=>{a.value.pageIndex=c})}),()=>e.createVNode("div",{class:"s-pagination"},[e.createVNode("button",{disabled:o.value,onClick:()=>a.value.prevPage()},[e.createTextVNode("\u4E0A\u4E00\u9875")]),e.createVNode(P,e.mergeProps(t,{ref:a}),null),e.createVNode("button",{disabled:r.value,onClick:()=>a.value.nextPage()},[e.createTextVNode("\u4E0B\u4E00\u9875")])])}}),m="c",u="_cai",x="C",N=(t,n={classPrefix:m})=>{var a;t.config.globalProperties[u]={...(a=t.config.globalProperties[u])!=null?a:{},classPrefix:n.classPrefix}},V=t=>{var n;return(n=t==null?void 0:t.componentPrefix)!=null?n:x};function C(t,n,a){const o=V(a);t.component(o+n.name)||(N(t,a),t.component(o+n.name,n))}const b={install(t,n){C(t,d,n)}};s.Pagination=d,s.default=b,Object.defineProperties(s,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
